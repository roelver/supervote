<div ng-include="'components/navbar/navbar.html'"></div>
<div ng-include="'components/header/header.html'"></div>

<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <span ng-hide="isLoggedIn()" class="tiny"><a href="/login">Login</a> to vote</span>
      <h1 class="page-header">Current polls:</h1>
      <div class="col-md-12 col-lg-12 col-sm-12 poll-list" ng-class-odd="'odd'" ng-class-even="'even'" ng-repeat="poll in allPolls">
        <h4>{{poll.question}}  <span class="tiny">Submitted by {{poll.owner.name}}</span></h4>        
        <ul ng-repeat="option in poll.options">
          <li class="option">
             <label><input type="radio" ng-show="isLoggedIn() && !poll.voted" name="grp{{poll._id}}" value="{{option._id}}" ng-model="poll.selected">{{option.text}}: {{option.votes}}</label>
          </li>  
        </ul>
        <button class="btn btn-info" ng-show="isLoggedIn() && !poll.voted" ng-click="vote($index)">Vote</button>
      </div>
    </div>
  </div>
</div>

<footer class="footer">
  <div class="container">
      <p>Angular Fullstack v2.1.1 |
        <a href="https://twitter.com/tyhenkel">@tyhenkel</a> |
         <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a></p>
  </div>
</footer>
